<think>
1. **分析请求：**
    *   **角色：** 技术知识库整理专家。
    *   **输入：** 一条学习记录，包含主题（“结构体与函数实战 —— 超市收银台”）、目标（结构体、函数、逻辑变化）、分类（“Go”）、日期（“2026-02-26”）。
    *   **任务：**
        1.  提取核心问题作为标题（20字内）。
        2.  整理详细步骤和代码。
        3.  总结3个关键结论。
        4.  生成3个标签。
    *   **输出格式：** 带有 YAML frontmatter 的标准 Markdown。

2.  **处理输入数据：**
    *   *主题：* 结构体与函数实战 —— 超市收银台。
    *   *目标：*
        *   `struct`：创建自定义类型，将“商品名称”和“价格”打包在一起。
        *   `func`：将代码块打包成工具，实现模块化。
        *   逻辑：从单纯的“遍历求和”变为“对象的创建与传递”。
    *   *分类：* Go。
    *   *日期：* 2026-02-26。

3.  **执行任务：**

    *   **任务 1：提取核心问题作为标题（20字内）。**
        *   *草稿 1：* 结构体与函数实战超市收银台（13字） - 不错。
        *   *草稿 2：* Go结构体与函数实战（10字） - 更好。
        *   *草稿 3：* 超市收银台结构体实战（10字） - 语境具体。
        *   *选择：* “结构体与函数实战”或“超市收银台结构体实战”。让我们选一个能反映*问题*或*主题*的。主题是“结构体与函数实战”。让我们使用 **结构体与函数实战**（9个字符）。

    *   **任务 2：整理详细步骤和代码。**
        *   *步骤 1：定义结构体。* 需要一个 `Product` 结构体，包含 `Name`（字符串）和 `Price`（浮点数）。
        *   *步骤 2：创建函数。* 需要一个函数来计算总价。它应该接收一个 `Product` 切片。
        *   *步骤 3：主逻辑。* 创建商品，将它们放入切片，调用函数，打印结果。
        *   *代码构建（Go）：*
            ```go
            package main
            import "fmt"

            // 1. 定义结构体
            type Product struct {
                Name  string
                Price float64
            }

            // 2. 定义计算函数
            func calculateTotal(products []Product) float64 {
                var total float64
                for _, p := range products {
                    total += p.Price
                }
                return total
            }

            func main() {
                // 3. 创建对象
                apple := Product{Name: "苹果", Price: 5.5}
                banana := Product{Name: "香蕉", Price: 3.2}

                cart := []Product{apple, banana}

                // 4. 调用函数
                sum := calculateTotal(cart)
                fmt.Printf("总价: %.2f\n", sum)
            }
            ```

    *   **任务 3：总结3个关键结论。**
        *   *结论 1（结构体）：* 结构体允许将相关数据（名称、价格）组合成单一的自定义类型。
        *   *结论 2（函数）：* 函数封装逻辑（计算），使代码可复用且模块化。
        *   *结论 3（逻辑变化）：* 编程从处理原始变量（数组/切片）转变为处理对象（结构体实例）并将它们传递给函数。

    *   **任务 4：生成3个标签。**
        *   Go, Struct, Function（或 Func）。

4.  **格式化输出：**
    *   构建 YAML frontmatter。
    *   构建 Markdown 部分（问题、解决、代码）。

5.  **根据约束条件进行审查：**
    *   标题 < 20字？是（“结构体与函数实战”）。
    *   包含 YAML？是。
    *   语言正确？是（Go）。
    *   日期正确？是（2026-02-26）。

6.  **最终润色（起草过程中的自我修正）：**
    *   确保“解决”部分解释了*为什么*我们要这样做，而不仅仅是代码。
    *   确保“代码”部分语法正确。

    *起草“解决”部分：*
    1.  **定义数据模型**：使用 `type` 关键字定义 `Product` 结构体，包含 `Name` 和 `Price` 字段，将商品属性打包。
    2.  **封装业务逻辑**：创建 `calculateTotal` 函数，接收 `Product` 切片作为参数，内部遍历累加价格。
    3.  **对象创建与调用**：在 `main` 函数中实例化结构体对象，组成购物车切片，并调用函数计算结果。

    *起草“结论”部分：*
    1.  **数据封装**：结构体是Go语言中组合不同类型数据的核心方式，提高了代码的可读性。
    2.  **模块化编程**：函数将特定功能（如计算总价）独立封装，便于维护和复用。
    3.  **面向对象思维**：通过传递结构体对象而非单独变量，实现了从“面向过程”到“面向对象”逻辑的初步转变。

7.  **最终输出生成。**（继续生成 Markdown）。
</think>---
title: 结构体与函数实战
date: 2026-02-26
category: Go
tags: [Go, Struct, 函数]
---

## 问题
如何使用Go语言的结构体将商品名称与价格打包，并通过函数实现模块化的收银台计价逻辑？

## 解决
1.  **定义数据模型**：使用 `type` 关键字定义 `Product` 结构体，包含 `Name` (字符串) 和 `Price` (浮点数) 字段，实现数据的打包。
2.  **封装业务逻辑**：创建 `calculateTotal` 函数，接收 `Product` 类型的切片作为参数，在函数内部遍历切片并累加价格。
3.  **对象创建与调用**：在 `main` 函数中实例化具体的商品对象，将其存入切片（购物车），最后调用函数并输出结果。

## 代码
```go
package main

import "fmt"

// 1. 定义结构体：打包商品属性
type Product struct {
	Name  string
	Price float64
}

// 2. 定义函数：模块化计算逻辑
func calculateTotal(items []Product) float64 {
	var total float64
	for _, item := range items {
		total += item.Price
	}
	return total
}

func main() {
	// 3. 创建对象并传递
	apple := Product{Name: "苹果", Price: 5.5}
	banana := Product{Name: "香蕉", Price: 3.2}

	// 组装购物车
	cart := []Product{apple, banana}

	// 调用函数
	sum := calculateTotal(cart)
	fmt.Printf("应收金额: %.2f\n", sum)
}
```

## 总结
1.  **数据封装**：结构体（Struct）是Go语言组合不同类型数据的核心方式，能显著提高代码的可读性和维护性。
2.  **逻辑解耦**：函数（Func）将特定功能（如求和）独立封装，实现了代码的模块化和复用。
3.  **对象传递**：通过传递结构体对象而非单独变量，代码逻辑从简单的“遍历求和”升级为“对象的创建与传递”，更符合实际业务场景。